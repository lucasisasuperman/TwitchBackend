(this.webpackJsonptwitchfe=this.webpackJsonptwitchfe||[]).push([[0],{152:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(135),a=n.n(i),s=(n(152),n(5)),o=n(230),l=n(142),u=n(238),j="",h="".concat(j,"/login"),d="".concat(j,"/register"),b="".concat(j,"/logout"),f="".concat(j,"/game"),m="".concat(j,"/game?game_name="),O="".concat(j,"/search?game_id="),x=function(e){return fetch("".concat(O).concat(e)).then((function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()}))},g=function(e){return function(e){return fetch("".concat(m).concat(e)).then((function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()}))}(e).then((function(e){if(e&&e.id)return x(e.id);throw Error("Fail to find the game")}))},p="".concat(j,"/favorite"),y=function(e){return fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:e})}).then((function(e){if(200!==e.status)throw Error("Fail to add favorite item")}))},v=function(e){return fetch(p,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:e})}).then((function(e){if(200!==e.status)throw Error("Fail to delete favorite item")}))},S=function(){return fetch(p,{credentials:"include"}).then((function(e){if(200!==e.status)throw Error("Fail to get favorite item");return e.json()}))},w="".concat(j,"/recommendation"),I=n(60),C=n(237),F=n(234),P=n(235),E=n(113),T=n(6);var k=function(e){var t=e.onSuccess,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],a=c[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(I.a,{shape:"round",onClick:function(){a(!0)},icon:Object(T.jsx)(E.a,{}),style:{marginLeft:"20px",marginTop:"20px"},children:"Custom Search"}),Object(T.jsx)(C.a,{title:"Search",visible:i,onCancel:function(){a(!1)},footer:null,children:Object(T.jsxs)(F.a,{name:"custom_search",onFinish:function(e){g(e.game_name).then((function(e){a(!1),t(e)})).catch((function(e){l.b.error(e)}))},children:[Object(T.jsx)(F.a.Item,{name:"game_name",rules:[{required:!0,message:"Please enter a game name"}],children:Object(T.jsx)(P.a,{placeholder:"Game name"})}),Object(T.jsx)(F.a.Item,{children:Object(T.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Search"})})]})})]})},R=n(246),_=n(247),L=n(231),M=n(232);var q=function(e){return e.items.map((function(e){return Object(T.jsx)(u.a.Item,{children:Object(T.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"".concat(e.broadcaster_name," - ").concat(e.title)})},e.id)}))},V=n(239),A=n(240),D=n(144),J=n(241),N=n(242),U=u.a.SubMenu;var B=function(e){var t=e.favoriteItems,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],a=c[1],o=t.VIDEO,l=t.STREAM,j=t.CLIP;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(I.a,{type:"primary",shape:"round",onClick:function(){a(!0)},icon:Object(T.jsx)(A.a,{}),children:"My Favorites"}),Object(T.jsx)(V.a,{title:"My Favorites",placement:"right",width:720,visible:i,onClose:function(){a(!1)},children:Object(T.jsxs)(u.a,{mode:"inline",defaultOpenKeys:["streams"],style:{height:"100%",borderRight:0},selectable:!1,children:[Object(T.jsx)(U,{icon:Object(T.jsx)(D.a,{}),title:"Streams",children:Object(T.jsx)(q,{items:l})},"streams"),Object(T.jsx)(U,{icon:Object(T.jsx)(J.a,{}),title:"Videos",children:Object(T.jsx)(q,{items:o})},"videos"),Object(T.jsx)(U,{icon:Object(T.jsx)(N.a,{}),title:"Clips",children:Object(T.jsx)(q,{items:j})},"clips")]})})]})},G=n(243),K=n(244);var H=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(I.a,{shape:"round",type:"primary",onClick:function(){c(!0)},children:"Register"}),Object(T.jsx)(C.a,{title:"Register",visible:n,onCancel:function(){c(!1)},footer:null,destroyOnClose:!0,children:Object(T.jsxs)(F.a,{name:"normal_register",initialValues:{remember:!0},onFinish:function(e){(function(e){return fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error("Fail to register")}))})(e).then((function(){c(!1),l.b.success("Successfully signed up")})).catch((function(e){l.b.error(e.message)}))},preserve:!1,children:[Object(T.jsx)(F.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}],children:Object(T.jsx)(P.a,{prefix:Object(T.jsx)(G.a,{}),placeholder:"Username"})}),Object(T.jsx)(F.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(T.jsx)(P.a,{prefix:Object(T.jsx)(K.a,{}),placeholder:"Password"})}),Object(T.jsx)(F.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your Firstname!"}],children:Object(T.jsx)(P.a,{placeholder:"firstname"})}),Object(T.jsx)(F.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Lastname!"}],children:Object(T.jsx)(P.a,{placeholder:"lastname"})}),Object(T.jsx)(F.a.Item,{children:Object(T.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Register"})})]})})]})};var W=function(e){var t=e.onSuccess,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],a=c[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(I.a,{shape:"round",onClick:function(){a(!0)},style:{marginRight:"20px"},children:"Login"}),Object(T.jsx)(C.a,{title:"Log in",visible:i,onCancel:function(){a(!1)},footer:null,destroyOnClose:!0,children:Object(T.jsxs)(F.a,{name:"normal_login",onFinish:function(e){var n;(n=e,fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then((function(e){if(200!==e.status)throw Error("Fail to log in");return e.json()}))).then((function(e){a(!1),l.b.success("Welcome back, ".concat(e.name)),t()})).catch((function(e){l.b.error(e.message)}))},preserve:!1,children:[Object(T.jsx)(F.a.Item,{name:"user_id",rules:[{required:!0,message:"Please input your Username!"}],children:Object(T.jsx)(P.a,{prefix:Object(T.jsx)(G.a,{}),placeholder:"Username"})}),Object(T.jsx)(F.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(T.jsx)(P.a.Password,{prefix:Object(T.jsx)(K.a,{}),placeholder:"Password"})}),Object(T.jsx)(F.a.Item,{children:Object(T.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Login"})})]})})]})},z=o.a.Header;var Q=function(e){var t=e.loggedIn,n=e.signoutOnClick,r=e.signinOnSuccess,c=e.favoriteItems;return Object(T.jsx)(z,{children:Object(T.jsxs)(L.a,{justify:"space-between",children:[Object(T.jsx)(M.a,{children:t&&Object(T.jsx)(B,{favoriteItems:c})}),Object(T.jsxs)(M.a,{children:[t&&Object(T.jsx)(I.a,{shape:"round",onClick:n,children:"Logout"}),!t&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(W,{onSuccess:r}),Object(T.jsx)(H,{})]})]})]})})},X=n(121),Y=n(105),Z=n(233),$=n(236),ee=n(245),te=X.a.TabPane,ne="stream",re="videos",ce="clips",ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,c="".concat(e.broadcaster_name," - ").concat(e.title),i=n.find((function(t){return t.id===e.id})),a=function(){i?v(e).then((function(){r()})).catch((function(e){l.b.error(e.message)})):y(e).then((function(){r()})).catch((function(e){l.b.error(e.message)}))};return Object(T.jsxs)(T.Fragment,{children:[t&&Object(T.jsx)(Y.a,{title:i?"Remove from favorite list":"Add to favorite list",children:Object(T.jsx)(I.a,{shape:"circle",icon:i?Object(T.jsx)(A.a,{}):Object(T.jsx)(ee.a,{}),onClick:a})}),Object(T.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:450},children:Object(T.jsx)(Y.a,{title:c,children:Object(T.jsx)("span",{children:c})})})]})},ae=function(e,t,n,r){return Object(T.jsx)(Z.b,{grid:{xs:1,sm:2,md:4,lg:4,xl:6},dataSource:e,renderItem:function(e){return Object(T.jsx)(Z.b.Item,{style:{marginRight:"20px"},children:Object(T.jsx)($.a,{title:ie(e,t,n,r),children:Object(T.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)("img",{alt:"Placeholder",src:(c=e.thumbnail_url,c.replace("%{height}","252").replace("%{width}","480").replace("{height}","252").replace("{width}","480"))})})})});var c}})},se=function(e){var t=e.resources,n=e.loggedIn,r=e.favoriteItems,c=e.favoriteOnChange,i=t.VIDEO,a=t.STREAM,s=t.CLIP,o=r.VIDEO,l=r.STREAM,u=r.CLIP;return Object(T.jsxs)(X.a,{defaultActiveKey:ne,children:[Object(T.jsx)(te,{tab:"Streams",style:{height:"680px",overflow:"auto"},forceRender:!0,children:ae(a,n,l,c)},ne),Object(T.jsx)(te,{tab:"Videos",style:{height:"680px",overflow:"auto"},forceRender:!0,children:ae(i,n,o,c)},re),Object(T.jsx)(te,{tab:"Clips",style:{height:"680px",overflow:"auto"},forceRender:!0,children:ae(s,n,u,c)},ce)]})},oe=o.a.Sider,le=o.a.Content;var ue=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),a=Object(s.a)(i,2),j=a[0],h=a[1],d=Object(r.useState)({VIDEO:[],STREAM:[],CLIP:[]}),m=Object(s.a)(d,2),O=m[0],g=m[1],p=Object(r.useState)([]),y=Object(s.a)(p,2),v=y[0],I=y[1];return Object(r.useEffect)((function(){fetch(f).then((function(e){if(200!==e.status)throw Error("Fail to get top games");return e.json()})).then((function(e){h(e)})).catch((function(e){l.b.error(e.message)}))}),[]),Object(T.jsxs)(o.a,{children:[Object(T.jsx)(Q,{loggedIn:n,signoutOnClick:function(){fetch(b,{method:"POST",credentials:"include"}).then((function(e){if(200!==e.status)throw Error("Fail to log out")})).then((function(){c(!1),l.b.success("Successfully Signed out")})).catch((function(e){l.b.error(e.message)}))},signinOnSuccess:function(){c(!0),S().then((function(e){I(e)}))},favoriteItems:v}),Object(T.jsxs)(o.a,{children:[Object(T.jsxs)(oe,{width:300,className:"site-layout-background",children:[Object(T.jsx)(k,{onSuccess:function(e){g(e)}}),Object(T.jsx)(u.a,{mode:"inline",onSelect:function(e){var t=e.key;"Recommendation"!==t?x(t).then((function(e){g(e)})):fetch(w,{credentials:"include"}).then((function(e){if(200!==e.status)throw Error("Fail to get recommended item");return e.json()})).then((function(e){g(e)}))},style:{marginTop:"10px"},items:function(e){return[{label:"Recommend for you!",key:"recommendation",icon:Object(T.jsx)(R.a,{})},{label:"Popular Games",key:"popular_games",icon:Object(T.jsx)(_.a,{}),children:e.map((function(e){return{label:e.name,key:e.id,icon:Object(T.jsx)("img",{alt:"placeholder",src:e.box_art_url.replace("{height}","40").replace("{width}","40"),style:{borderRadius:"50%",marginRight:"20px"}})}}))}]}(j)})]}),Object(T.jsx)(o.a,{style:{padding:"24px"},children:Object(T.jsx)(le,{className:"site-layout-background",style:{padding:24,margin:0,height:800,overflow:"auto"},children:Object(T.jsx)(se,{resources:O,loggedIn:n,favoriteOnChange:function(){S().then((function(e){I(e)})).catch((function(e){l.b.error(e.message)}))},favoriteItems:v})})})]})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.createRoot(document.getElementById("root")).render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(ue,{})})),je()}},[[229,1,2]]]);
//# sourceMappingURL=main.b613fdf3.chunk.js.map